<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <title>DOG API TEST</title>
    <link href="data:image/x-icon;base64,AAABAAEAEBAAAAEACABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAe317ANvh3QCLkXsAk5iBAGZoZwD/+PMAo6ONAOHKtABYWloAq66tAHZ+YwDq2McA0r2lACMkIwD///8AoJl/AHJzcgCdpZUAmJmZAPf4+AD+8OcA9fb1ABQWFQDHz8gA3+TiAMTNxQDMtp0Aq7GlALq7ugDr1MAA+fr6AOfr6ADgyK8Afo97AP306wCYlHkA7O/tAIOEhACGinEAzNPMAFNVUwD9/v4A793OAL3GvQDZw6oA+/z7AM/X0QD//fkAwsPDAMOvlACtpYwAP0A/APHz8QB5gWYAjZGKAJ+sngCTkXYA0MvHALG5rQD14dIAzMzLAJCNcADi5+YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADw8PDyAsBwcHBzsCLg8PDw8PDyw2Mh4GMAwNPhIWDw8PDygQPA8PChMJGRUyIjUPDy8kIw8uATcRAR0fMDIiHx82CDExKQABKTQBHw8VORovMxwmKQAAFxcOHQ8PDy0SHA0UDxYOAAAAABMPDw8rBBItDw8PJgAAAAARDw8PBicSLQ8PDxYFAAAAAQ8PDyMDOw0PDw8PLgUAADcPDw8eBBk5Iw8PDw8BAAATDw8PGzgqAxsPDw8PKQAAESoPPAsCDyUnKw8PDzEXAA4UIxAcDw8PJScbFQ8PPz06CBAsLg8PDw8gAzkNLQghMzYvDw8PDw8PDx8COxIcOxg1Dw8PDwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=" rel="icon" type="image/x-icon" />
    <style>
        body{
            /*background-color: aliceblue;*/
            background: rgb(207, 206, 222);
        }
    </style>
</head>
<body>
    <div class="container text-center">
        <h2>Random picture of dogs</h2>
        <div class="grid text-center">
            <!-- 1er image pré-définie  -->
            <img id="img-dog" src="https://random.dog/916446ed-7d0b-403a-a7a4-cc10c7969ea1.jpg" class="rounded img-fluid" width="350px" alt="dog picture - mp4 hs">
            <br>
            <br>
            <button id="fetch-dog" type="button" class="btn btn-success">
                Woof !
            </button>
        </div>
    </div>
    <script>
        /* Association de l'evenement 'clique' de la souris à la fonction 'refreshDog()' */
        document.querySelector("#fetch-dog").addEventListener("click", async () => {
            refreshDog();
        })
        
        /* fonction récupérer les images de chiens */
        async function refreshDog() {
            /* stockage du  */
            var fetchResult = await fetch("https://random.dog/woof.json");
            console.log(fetchResult);
            var data = await fetchResult.json();
            console.log(data);

            document.querySelector("#img-dog").src = data.url;

            if(data.url.includes(".mp4")){
                refreshDog();
                return
            }
        }
    </script>
</body>
</html>